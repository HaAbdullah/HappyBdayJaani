<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Birthday Polaroids</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        background: #f0f0f0;
        font-family: Arial, sans-serif;
        overflow: hidden;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .overlay-content {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
        text-align: center;
        pointer-events: none;
      }

      .title {
        font-family: "Pacifico", cursive;
        font-size: 4rem;
        color: #ff69b4;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        margin-bottom: 20px;
      }

      .gallery-container {
        width: 100%;
        height: 90vh;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* New background gallery styles */
      .background-gallery {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 120%; /* Increased from 100% to ensure overflow */
        height: 120%; /* Increased to match */
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: -10px;
        z-index: 0;
      }

      .background-polaroid {
        background: white;
        padding: 8px 8px 20px 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        width: calc(15vw - 16px);
        position: relative;
        margin: -15px;
      }

      .background-color-box {
        width: 100%;
        height: calc(15vw - 16px);
        opacity: 0.5;
      }

      .gallery {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap; /* Allow items to wrap to the next line */
        column-gap: 25px; /* Horizontal gap between items */
        position: relative;
      }

      .polaroid {
        background: white;
        padding: 10px 10px 25px 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 20vw;
        position: relative;
        transition: all 0.3s ease;
        z-index: 1;
        margin: 0; /* Remove any margin */
        margin-top: -25px; /* Negative margin to create vertical overlap */
      }

      .polaroid:hover {
        transform: scale(1.15) rotate(0deg) !important;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        z-index: 100;
      }

      .image-container {
        width: 100%;
        height: calc(20vw - 20px); /* Increased to match the new size */
        overflow: hidden;
        position: relative;
      }
      .polaroid img {
        width: 120%;
        height: 120%;
        object-fit: cover;
        position: absolute;
      }

      .polaroid .caption {
        font-family: "Dancing Script", cursive;
        text-align: center;
        margin-top: 5px;
        font-size: 1rem;
        line-height: 1;
      }

      .play-button {
        width: 80px;
        height: 80px;
        background: #ff69b4;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin: 20px auto;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
        pointer-events: auto;
      }

      .play-button:hover {
        transform: scale(1.1);
      }

      .play-button svg {
        width: 40px;
        height: 40px;
        fill: white;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        justify-content: center;
        align-items: center;
        z-index: 2000;
      }

      .modal-content {
        background: white;
        padding: 20px 20px 60px 20px;
        position: relative;
        width: 80%;
        max-width: 800px;
      }

      .close-button {
        position: absolute;
        right: 20px;
        top: 20px;
        cursor: pointer;
        font-size: 24px;
      }

      .nav-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.8);
        border: none;
        padding: 20px;
        cursor: pointer;
      }

      .prev-button {
        left: 20px;
      }
      .next-button {
        right: 20px;
      }
    </style>
  </head>
  <body>
    <div class="overlay-content">
      <h1 class="title">Happy Birthday Abeer</h1>
      <div class="play-button" onclick="openModal()">
        <svg viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z" />
        </svg>
      </div>
    </div>

    <div class="gallery-container">
      <div class="background-gallery">
        <!-- Background polaroids will be added here by JavaScript -->
      </div>
      <div class="gallery">
        <!-- Main polaroids will be added here by JavaScript -->
      </div>
    </div>

    <div class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal()">×</span>
        <video id="video-player" width="100%" controls>
          <source src="/api/placeholder/400/320" type="video/mp4" />
        </video>
        <button class="nav-button prev-button">←</button>
        <button class="nav-button next-button">→</button>
      </div>
    </div>

    <script>
      // Function to generate random pastel color
      function getRandomPastelColor() {
        const hue = Math.floor(Math.random() * 360);
        return `hsl(${hue}, 70%, 85%)`;
      }

      // Create background polaroids
      const backgroundGallery = document.querySelector(".background-gallery");
      // Create more background polaroids than needed to ensure coverage
      for (let i = 0; i < 50; i++) {
        const polaroid = document.createElement("div");
        polaroid.className = "background-polaroid";
        polaroid.style.transform = `rotate(${Math.random() * 40 - 20}deg)`;

        const colorBox = document.createElement("div");
        colorBox.className = "background-color-box";
        colorBox.style.backgroundColor = getRandomPastelColor();

        polaroid.appendChild(colorBox);
        backgroundGallery.appendChild(polaroid);
      }
      const rotationAngles = [
        5, -3, 7, -5, 4, -6, 3, -4, 6, -2, 5, -7, 4, -3, 6,
      ];

      const polaroids = [
        { caption: "First Memory", imagePos: { x: -10, y: -5 } },
        { caption: "Beach Day", imagePos: { x: -15, y: -10 } },
        { caption: "Party Time", imagePos: { x: -5, y: -15 } },
        { caption: "Coffee Date", imagePos: { x: -12, y: -8 } },
        { caption: "Movie Night", imagePos: { x: -8, y: -12 } },
        { caption: "Road Trip", imagePos: { x: -10, y: -10 } },
        { caption: "Game Night", imagePos: { x: -15, y: -5 } },
        { caption: "Birthday 2023", imagePos: { x: -5, y: -15 } },
        { caption: "Shopping Day", imagePos: { x: -12, y: -12 } },
        { caption: "Dinner Out", imagePos: { x: -8, y: -8 } },
        { caption: "Concert", imagePos: { x: -10, y: -5 } },
        { caption: "Birthday 2024", imagePos: { x: -5, y: -10 } },
      ];

      // Create polaroids
      const gallery = document.querySelector(".gallery");
      polaroids.forEach((data, index) => {
        const polaroid = document.createElement("div");
        polaroid.className = "polaroid";
        polaroid.style.transform = `rotate(${
          rotationAngles[index % rotationAngles.length]
        }deg)`;

        const imageContainer = document.createElement("div");
        imageContainer.className = "image-container";

        const img = document.createElement("img");
        img.src = `/api/placeholder/400/320`;
        img.style.left = `${data.imagePos.x}%`;
        img.style.top = `${data.imagePos.y}%`;

        const caption = document.createElement("div");
        caption.className = "caption";
        caption.textContent = data.caption;

        imageContainer.appendChild(img);
        polaroid.appendChild(imageContainer);
        polaroid.appendChild(caption);
        gallery.appendChild(polaroid);
      });

      // Modal functionality
      const modal = document.querySelector(".modal");
      const videoPlayer = document.getElementById("video-player");
      let currentVideoIndex = 0;
      const videos = [
        "/api/placeholder/400/320",
        "/api/placeholder/400/320",
        "/api/placeholder/400/320",
      ];

      function openModal() {
        modal.style.display = "flex";
        videoPlayer.src = videos[currentVideoIndex];
      }

      function closeModal() {
        modal.style.display = "none";
        videoPlayer.pause();
      }

      document.querySelector(".prev-button").addEventListener("click", () => {
        currentVideoIndex =
          (currentVideoIndex - 1 + videos.length) % videos.length;
        videoPlayer.src = videos[currentVideoIndex];
      });

      document.querySelector(".next-button").addEventListener("click", () => {
        currentVideoIndex = (currentVideoIndex + 1) % videos.length;
        videoPlayer.src = videos[currentVideoIndex];
      });

      modal.addEventListener("click", (e) => {
        if (e.target === modal) {
          closeModal();
        }
      });
    </script>
  </body>
</html>
